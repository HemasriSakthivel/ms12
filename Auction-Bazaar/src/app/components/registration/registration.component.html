<div class="signup-wrapper">
    <div class="signup-image">
        <h1>Auction Bazaar<br />SignUp</h1>
    </div>
    <div class="signup-form">
        <h2>Create Your Account!</h2>
        <div *ngIf="errorMessage" class="error-message">
            {{ errorMessage }}
        </div>
        <form #signupForm="ngForm">
            <div class="input-group">
                <i class="fas fa-user"></i>
                <input type="text" id="name" name="name" placeholder="Full Name*" [(ngModel)]="name"
                    #nameInput="ngModel" required />
                <span *ngIf="nameInput.invalid && nameInput.touched" class="error-text">Name is required.</span>
            </div>
            <div class="input-group">
                <i class="fas fa-user"></i>
                <input type="text" id="username" name="username" placeholder="Username*" [(ngModel)]="username"
                    #usernameInput="ngModel" required />
                <div *ngIf="usernameInput.invalid && usernameInput.touched" class="error-text">Username is required.</div>
            </div>
            <div class="input-group">
                <i class="fas fa-envelope"></i>
                <input type="email" id="email" name="email" placeholder="Email Address*" [(ngModel)]="email"
                    #emailInput="ngModel" required />
                <div *ngIf="emailInput.invalid && emailInput.touched" class="error-text">
                    Please enter a valid email address.
                </div>
            </div>
            <div class="input-group">
                <i class="fas fa-lock"></i>
                <input [type]="passwordFieldType" id="password" name="password" placeholder="Password*" [(ngModel)]="password"
                  #passwordInput="ngModel" required />
                <i class="fas fa-eye toggle-password" 
                   [class.fa-eye-slash]="passwordFieldType === 'text'" 
                   (click)="togglePasswordVisibility()"></i>
                <div *ngIf="passwordInput.invalid && passwordInput.touched" class="error-text">Password is required.</div>
              </div>
              
            <div class="input-group">
                <i class="fas fa-user-tag"></i>
                <select id="signupAs" name="signupAs" [(ngModel)]="signupAs" #signupAsInput="ngModel" required>
                    <option value="" disabled selected>Signup As*</option>
                    <option value="admin">Admin</option>
                    <option value="auctioneer">Auctioneer</option>
                    <option value="bidder">Bidder</option>
                </select>
                <div *ngIf="signupAsInput.invalid && signupAsInput.touched" class="error-text">Please select a role.</div>
            </div>

            <button type="submit" class="signup-btn" (click)="onSignup(signupForm)">Signup</button>

            <div class="additional-links">
                <a routerLink="/login">Already have an account?Login</a>
            </div>
        </form>
    </div>
</div>
